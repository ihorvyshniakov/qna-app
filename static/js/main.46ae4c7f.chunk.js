(this["webpackJsonptest-task-unibit"]=this["webpackJsonptest-task-unibit"]||[]).push([[0],{115:function(e,t,n){},121:function(e,t,n){},142:function(e,t,n){"use strict";n.r(t);var s=n(0),i=n.n(s),r=n(25),o=n.n(r),a=(n(115),n(13)),c=n(205),u=n(45),d=n(103),j=n.n(d),l=n(58),h=(n(121),n(194)),p=n(182),O=n(193),b=n(196),f=n(197),x=n(198),g=n(190),w=n(184),v=n(185),m=n(101),_=n.n(m),A=n(206);function y(e){var t=new Date(1e3*e);return String(t).slice(4,21)}var S=n(2),P=function(e){var t=e.isModalOpen,n=e.setModalOpen,i=e.actualAnswers;return Object(S.jsxs)(h.a,{scroll:"paper",open:t,onClose:function(){return n(!1)},children:[Object(S.jsxs)(p.a,{variant:"h5",component:"div",sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:["Answers",Object(S.jsx)(O.a,{onClick:function(){return n(!1)},children:Object(S.jsx)(_.a,{})})]}),Object(S.jsx)(b.a,{dividers:!0,children:Object(S.jsx)(f.a,{component:"div",children:Object(S.jsxs)(x.a,{children:[i.map((function(e){return Object(S.jsxs)(s.Fragment,{children:[Object(S.jsxs)(g.a,{component:"div",sx:{display:"flex",flexDirection:"column"},children:[Object(S.jsx)(w.a,{primary:e.body,sx:{maxWidth:"100%",wordBreak:"break-word"}}),Object(S.jsxs)(A.a,{sx:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(S.jsx)(u.a,{component:"div",variant:"subtitle2",sx:{color:"red"},children:y(e.creation_date)}),Object(S.jsx)(u.a,{component:"div",variant:"h6",sx:{color:"blue"},children:e.owner.display_name})]})]}),Object(S.jsx)(v.a,{})]},e.answer_id)})),0===i.length&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(g.a,{children:Object(S.jsx)(w.a,{primary:"There's no answers to this question."})}),Object(S.jsx)(v.a,{})]})]})})})]})},D=n(199),L=n(195),N=n(200),Q=n(201),q=n(202),E=n(203),R=n(187),T=function(e){var t=e.questions,n=e.showQuestionAnswers,s=e.page,i=e.changePage,r=e.rowsPerPage,o=e.changeRowsPerPage;return Object(S.jsx)(D.a,{component:L.a,children:Object(S.jsx)(N.a,{children:Object(S.jsxs)(Q.a,{children:[t.map((function(e){return Object(S.jsx)(q.a,{hover:!0,sx:{cursor:"pointer"},onClick:function(){return n(e.question_id)},children:Object(S.jsx)(E.a,{children:e.title})},e.question_id)})),Object(S.jsx)(q.a,{children:Object(S.jsx)(R.a,{count:120,page:s,onPageChange:i,rowsPerPage:r,rowsPerPageOptions:[10,20,30],onRowsPerPageChange:o,showFirstButton:!0,showLastButton:!0})})]})})})},C=n(204),k=function(){return Object(S.jsx)(C.a,{position:"static",children:Object(S.jsx)(u.a,{variant:"h6",component:"h1",align:"center",sx:{height:"40px",lineHeight:"40px"},children:"Stack overflow QnA App"})})},I=n(76),U=n.n(I);function F(e,t){return U.a.get("https://api.stackexchange.com/2.3/questions?page=".concat(e,"&pagesize=").concat(t,"&fromdate=1635724800&todate=1637798400&order=desc&sort=activity&site=stackoverflow")).then((function(e){return e.data.items})).catch((function(e){return console.error(e),[]}))}var B=Object(l.b)((function(e){return{storeRowsPerPage:e.rowsPerPage,storeQuestionsList:e.questions,storeAnswersList:e.answers}}),(function(e){return{onAddQuestions:function(t,n){e({type:"ADD_QUESTIONS",payload:{pageNum:n,questionsList:t}})},onAddRowsQty:function(t){e({type:"ADD_ROWS_QUANTITY",payload:t})},onClearQuestions:function(){e({type:"CLEAR_QUESTIONS"})},onAddAnswers:function(t,n){e({type:"ADD_ANSWER",payload:{question_id:n,answersList:t}})}}}))((function(e){var t=e.storeRowsPerPage,n=e.storeQuestionsList,i=e.storeAnswersList,r=e.onAddQuestions,o=e.onClearQuestions,d=e.onAddRowsQty,l=e.onAddAnswers,h=Object(s.useState)(!1),p=Object(a.a)(h,2),O=p[0],b=p[1],f=Object(s.useState)(!1),x=Object(a.a)(f,2),g=x[0],w=x[1],v=Object(s.useState)([]),m=Object(a.a)(v,2),_=m[0],A=m[1],y=Object(s.useState)([]),D=Object(a.a)(y,2),L=D[0],N=D[1],Q=Object(s.useState)(0),q=Object(a.a)(Q,2),E=q[0],R=q[1],C=Object(s.useState)(10),I=Object(a.a)(C,2),B=I[0],M=I[1];return Object(s.useEffect)((function(){if(t==B)if(n.some((function(e){return e.pageNum==E}))){var e=n.filter((function(e){return e.pageNum==E}))[0].questionsList;N(e)}else d(B),w(!0),F(E+1,B).then((function(e){N(e),r(e,E),w(!1)}));else d(B),o(),w(!0),F(E+1,B).then((function(e){N(e),r(e,E),w(!1)}))}),[E,B]),Object(S.jsxs)("div",{className:"App",children:[g&&Object(S.jsx)("div",{className:"loading",children:Object(S.jsx)(j.a,{sx:{fontSize:70}})}),Object(S.jsx)(k,{}),Object(S.jsxs)(c.a,{sx:{width:"100%",p:"40px 20px 80px"},children:[Object(S.jsx)(u.a,{variant:"h5",align:"center",sx:{mb:"10px"},children:"Questions"}),Object(S.jsx)(T,{questions:L,showQuestionAnswers:function(e){if(i.some((function(t){return t.question_id==e}))){var t=i.filter((function(t){return t.question_id==e}))[0].answersList;A(t),b(!0)}else w(!0),function(e){return U.a.get("https://api.stackexchange.com/2.3/questions/".concat(e,"/answers?order=desc&sort=activity&site=stackoverflow&filter=!nKzQURF6Y5")).then((function(e){return e.data.items})).catch((function(e){return console.error(e),[]}))}(e).then((function(e){return A(e),e})).then((function(t){l(t,e),w(!1)})).then((function(){return b(!0)}))},page:E,changePage:function(e,t){R(t)},rowsPerPage:B,changeRowsPerPage:function(e){M(parseInt(e.target.value,10)),R(0)}}),Object(S.jsx)(P,{isModalOpen:O,setModalOpen:b,actualAnswers:_})]})]})})),M=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,207)).then((function(t){var n=t.getCLS,s=t.getFID,i=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),s(e),i(e),r(e),o(e)}))},W=n(60),X=n(15);var z=Object(W.a)({rowsPerPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"10",t=arguments.length>1?arguments[1]:void 0;return"ADD_ROWS_QUANTITY"===t.type?String(t.payload):e},questions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_QUESTIONS":return[].concat(Object(X.a)(e),[{pageNum:t.payload.pageNum,questionsList:t.payload.questionsList}]);case"CLEAR_QUESTIONS":return[];default:return e}},answers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"ADD_ANSWER"===t.type?[].concat(Object(X.a)(e),[{question_id:t.payload.question_id,answersList:t.payload.answersList}]):e}}),Y=Object(W.b)(z,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());o.a.render(Object(S.jsx)(i.a.StrictMode,{children:Object(S.jsx)(l.a,{store:Y,children:Object(S.jsx)(B,{})})}),document.getElementById("root")),M()}},[[142,1,2]]]);
//# sourceMappingURL=main.46ae4c7f.chunk.js.map